/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java Library project to get you started.
 * For more details take a look at the Java Libraries chapter in the Gradle
 * User Manual available at https://docs.gradle.org/5.3.1/userguide/java_library_plugin.html
 */




buildscript {
    repositories {
        jcenter()
  /* maven {
        url "http://192.168.110.100:8081/artifactory/test-artifactory" // The Artifactory (preferably virtual) repository to resolve from
  /*      credentials {               // Optional resolver credentials (leave out to use anonymous resolution)
            username = "admin" // Artifactory user name
            password = "password" // Password or API Key
        }*/    
    }
    dependencies {
        //Check for the latest version here: http://plugins.gradle.org/plugin/com.jfrog.artifactory
        classpath "org.jfrog.buildinfo:build-info-extractor-gradle:4+"
    }
}
//}
plugins {
    // Apply the java-library plugin to add support for Java Library
    id 'java-library'
}
/*repositories{
 maven {
        url "http://192.168.110.100:8081/artifactory/test-artifactory" // The Artifactory (preferably virtual) repository to resolve from
        credentials {               // Optional resolver credentials (leave out to use anonymous resolution)
            username = "admin" // Artifactory user name
            password = "password" // Password or API Key
        }
    }
}*/

dependencies {
    // This dependency is exported to consumers, that is to say found on their compile classpath.
    api 'org.apache.commons:commons-math3:3.6.1'

    // This dependency is used internally, and not exposed to consumers on their own compile classpath.
    implementation 'com.google.guava:guava:27.0.1-jre'

    // Use JUnit test framework
    testImplementation 'junit:junit:4.12'

    compile(group: 'ro.trc.common', name: 'sample', version: '0.0.3')
}


version = '0.0.3'
group = 'ro.trc.common'
sourceCompatibility = '1.8'
//buildInfo.build.name='my-super-cool-build'
//buildInfo.build.number='m2019'



apply plugin: 'maven-publish'
publishing {
    publications {
        mavenJava(MavenPublication) {
            //artifact("build/libs/madhav-$version"+".jar") {
              //  extension 'jar'
	      from components.java
          // }
        }
    }
}
allprojects {
    apply plugin: "com.jfrog.artifactory"
}

artifactory {
    contextUrl = "${artifactory_contextUrl}"   //The base Artifactory URL if not overridden by the publisher/resolver
    publish {
        repository {
            repoKey = 'test-artifactory'
            username = "${artifactory_user}"
            password = "${artifactory_password}"
            maven = true
            
        }
	defaults {
            publications ('mavenJava')
	    publishArtifacts=true
	    publishPom=true
        }
    }
    resolve {
        repository {
            repoKey = 'libs-release'
            username = "${artifactory_user}"
            password = "${artifactory_password}"
            maven = true
			
			  }
    }
}

